// Generated by CoffeeScript 1.6.3
(function() {
  var codeAddress, drawMap, geocoder;

  geocoder = new google.maps.Geocoder();

  codeAddress = function(address) {
    return geocoder.geocode({
      'address': address
    }, function(results, status) {
      if (status === google.maps.GeocoderStatus.OK) {
        return drawMap(results);
      } else {
        return alert('Geocode was not successful for the following reason: ' + status);
      }
    });
  };

  drawMap = function(locations) {
    var latlng, location, map, mapOptions, marker, _i, _len, _results;
    latlng = locations[0].geometry.location;
    mapOptions = {
      zoom: 12,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);
    _results = [];
    for (_i = 0, _len = locations.length; _i < _len; _i++) {
      location = locations[_i];
      _results.push(marker = new google.maps.Marker({
        map: map,
        position: location.geometry.location
      }));
    }
    return _results;
  };

  window.codeAddress = codeAddress;

}).call(this);
